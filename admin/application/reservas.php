<?php if(!defined('BASEPATH')) exit('No direct script access allowed');class Reservas extends CI_Controller {    public function __construct(){        parent::__construct();        $this->load->model("reservas_model","rv");        $this->load->model("cliente_model","cl");        $this->load->model("reportes_model","rp");    }    public function realizada()    {        $data["titulo"]="Listado Reservas Pagadas";        $data["excel"]="excel_reservas";        $data["pdf"]="reservas_realizada";        $data["resultado"]=$this->rv-> completada("Pagada");        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('reservas',$data);    }    public function pendientes()    {   $data["titulo"]="Listado Reservas Pendiente";        $data["excel"]="excel_reservas_pendiente";        $data["pdf"]="reservas_norealizada";        $data["resultado"]=$this->rv-> completada("noPagada");        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('reservas_pendiente',$data);    }    public function photos()    {   $data["titulo"]="Paquetes de Fotos Comprados";        $data["excel"]="excelphotoslistado";        $data["pdf"]="pdfphotoslistado";        $data["resultado"]=$this->rv-> photos("VERIFICADO");        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('photos',$data);    }    public function detalle_factura(){        $id=$this->input->get('id');        $estado=$this->input->get('estado');        $data['resultado']=$this->rv->detalle_factura($estado,$id);        $data['fila']=$this->rv->detalle_montos($estado,$id);        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('factura',$data);         }    public function info(){   $data["fila"]=$this->cl->get_id($this->input->get("id"));        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('info_cliente',$data);    }    public function infop(){        $data["fila"]=$this->cl->get_idp($this->input->get("id"));        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('info_cliente',$data);    }    public function reportes(){        $data["titulo"]="Reportes Test";        $data["excel"]="Listado Reservas Realizada";        $data["pdf"]="Listado Reservas Realizada";        $data["resultado"]=$this->rp-> rangodefechareservas($_POST['tipo_reservas'], $_POST['desde'], $_POST['hasta']);        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('reportes',$data);        }    public function listado()    {        $data['titulo']="Listado de codigo Descuento";        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $data['resultado']=$this->rv->get_all_codigo();        $this->load->view('listado_codigo',$data);    }    public function agregar()    {        $data['titulo']="Agregar codigo Descuento";        $this->load->view('plantilla/header');        $this->load->view('plantilla/menu');        $this->load->view('agregar_codigo');    }    public function registrar_codigo(){        $datos=array(            'empresa'=>$this->input->post('nombre_empresa'),            'codigo'=>$this->input->post('codigo_descuento'),            'descuento'=>$this->input->post('descuento'));        $this->code->insertar($datos);        redirect('codigo_descuento/listado','refresh');    }    public function eliminar(){   $id=$this->input->get('id');        $this->rv->delete($id);        redirect('reservas/realizada','refresh');    }}